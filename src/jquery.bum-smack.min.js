(function(e){"use strict";e.fn.smack=function(t){t=t||{};var n=e(this),r=new e.Deferred,i=t.threshold||1;n.on("scroll.smack",function(){var t=n.scrollTop(),s=n[0]===window?n.height():n.innerHeight(),o=n[0]===window?e(document).height():n[0].scrollHeight,u=t+s,a=i.toString().toLowerCase().indexOf("px")>=0?o-parseInt(i,10):o*i;if(u>=a){n.off("scroll.smack");r.resolve()}});return r.promise()}})(window.jQuery);